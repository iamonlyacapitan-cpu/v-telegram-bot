from telegram import InlineKeyboardButton, InlineKeyboardMarkup

def get_main_keyboard(is_admin=False):
    """Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø§ØµÙ„ÛŒ Ú©Ø§Ø±Ø¨Ø±"""
    keyboard = [
        [InlineKeyboardButton("ğŸ›’ Ø®Ø±ÛŒØ¯ VPN", callback_data="buy_vpn")],
        [InlineKeyboardButton("ğŸ“‹ Ø³ÙØ§Ø±Ø´Ø§Øª Ù…Ù†", callback_data="my_orders")],
        [InlineKeyboardButton("ğŸ’° Ú©ÛŒÙ Ù¾ÙˆÙ„", callback_data="wallet")],
        [InlineKeyboardButton("ğŸ« Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ", callback_data="support")],
        [InlineKeyboardButton("â„¹ï¸ Ø±Ø§Ù‡Ù†Ù…Ø§", callback_data="help")]
    ]
    
    if is_admin:
        keyboard.append([InlineKeyboardButton("ğŸ‘¨â€ğŸ’¼ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª", callback_data="admin_panel")])
    
    return InlineKeyboardMarkup(keyboard)

def get_admin_keyboard():
    """Ú©ÛŒØ¨ÙˆØ±Ø¯ Ù…Ø®ØµÙˆØµ Ø§Ø¯Ù…ÛŒÙ†"""
    keyboard = [
        [InlineKeyboardButton("ğŸ“Š Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†", callback_data="admin_users")],
        [InlineKeyboardButton("ğŸ“¦ Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª", callback_data="admin_orders")],
        [InlineKeyboardButton("ğŸ’³ Ù…Ø¯ÛŒØ±ÛŒØª Ù¾Ù„Ù†â€ŒÙ‡Ø§", callback_data="admin_plans")],
        [InlineKeyboardButton("ğŸ“ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ú¯Ø±ÙˆÙ‡ÛŒ", callback_data="admin_broadcast")],
        [InlineKeyboardButton("ğŸ« ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ", callback_data="admin_tickets")],
        [InlineKeyboardButton("ğŸ“‹ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§", callback_data="admin_logs")],
        [InlineKeyboardButton("ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ", callback_data="main_menu")]
    ]
    return InlineKeyboardMarkup(keyboard)

def get_plans_keyboard(plans):
    """Ú©ÛŒØ¨ÙˆØ±Ø¯ Ù†Ù…Ø§ÛŒØ´ Ù¾Ù„Ù†â€ŒÙ‡Ø§"""
    keyboard = []
    for plan in plans:
        keyboard.append([
            InlineKeyboardButton(
                f"{plan['name']} - {plan['price']:,} ØªÙˆÙ…Ø§Ù†",
                callback_data=f"select_plan_{plan['plan_id']}"
            )
        ])
    keyboard.append([InlineKeyboardButton("ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª", callback_data="main_menu")])
    return InlineKeyboardMarkup(keyboard)

def get_support_keyboard():
    """Ú©ÛŒØ¨ÙˆØ±Ø¯ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ"""
    keyboard = [
        [InlineKeyboardButton("ğŸ« Ø§ÛŒØ¬Ø§Ø¯ ØªÛŒÚ©Øª Ø¬Ø¯ÛŒØ¯", callback_data="create_ticket")],
        [InlineKeyboardButton("ğŸ“‹ ØªÛŒÚ©Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†", callback_data="my_tickets")],
        [InlineKeyboardButton("ğŸ“ ØªÙ…Ø§Ø³ Ø¨Ø§ Ø§Ø¯Ù…ÛŒÙ†", url="https://t.me/username")],
        [InlineKeyboardButton("ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª", callback_data="main_menu")]
    ]
    return InlineKeyboardMarkup(keyboard)

def get_order_actions_keyboard(order_id):
    """Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø¨Ø±Ø§ÛŒ Ø³ÙØ§Ø±Ø´"""
    keyboard = [
        [
            InlineKeyboardButton("âœ… ØªØ§ÛŒÛŒØ¯", callback_data=f"approve_order_{order_id}"),
            InlineKeyboardButton("âŒ Ø±Ø¯", callback_data=f"reject_order_{order_id}")
        ],
        [InlineKeyboardButton("ğŸ“‹ Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª", callback_data="admin_orders")]
    ]
    return InlineKeyboardMarkup(keyboard)

def get_back_keyboard(target="main_menu"):
    """Ú©ÛŒØ¨ÙˆØ±Ø¯ Ø¨Ø§Ø²Ú¯Ø´Øª"""
    return InlineKeyboardMarkup([[InlineKeyboardButton("ğŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª", callback_data=target)]])
